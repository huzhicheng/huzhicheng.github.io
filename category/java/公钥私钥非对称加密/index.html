<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.121.0"><meta charset=utf-8><title>终于知道公钥、私钥、对称、非对称加密是什么了 · 古时的风筝</title>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="终于知道公钥、私钥、对称、非对称加密是什么了"><meta name=360-site-verification content="e75339f1cfcde17f66f71aaf8b6983e9"><meta name=keywords content="Hugo,theme,编程,Java,ChatGPT,程序员,开发"><link rel=canonical href=https://www.moonkite.cn/category/java/%E5%85%AC%E9%92%A5%E7%A7%81%E9%92%A5%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/><link rel=icon href=https://www.moonkite.cn/images/photo.png><link rel=stylesheet href=https://cdn.staticfile.org/twitter-bootstrap/4.1.3/css/bootstrap.min.css><link rel=stylesheet href=https://www.moonkite.cn/css/den.css><link href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css rel=stylesheet><link href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/lxgwwenkaigbscreen.min.css rel=stylesheet><link href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.min.css rel=stylesheet><meta property="og:title" content="终于知道公钥、私钥、对称、非对称加密是什么了"><meta property="og:description" content="终于知道公钥、私钥、对称、非对称加密是什么了"><meta property="og:type" content="article"><meta property="og:url" content="https://www.moonkite.cn/category/java/%E5%85%AC%E9%92%A5%E7%A7%81%E9%92%A5%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/"><meta property="article:section" content="category"><meta property="article:published_time" content="2023-08-14T08:56:23+08:00"><meta property="article:modified_time" content="2023-08-14T08:56:23+08:00"><meta itemprop=name content="终于知道公钥、私钥、对称、非对称加密是什么了"><meta itemprop=description content="终于知道公钥、私钥、对称、非对称加密是什么了"><meta itemprop=datePublished content="2023-08-14T08:56:23+08:00"><meta itemprop=dateModified content="2023-08-14T08:56:23+08:00"><meta itemprop=wordCount content="1995"><meta itemprop=keywords content="Java,JDK,公钥,私钥,非对称加密,对称加密,"><meta name=twitter:card content="summary"><meta name=twitter:title content="终于知道公钥、私钥、对称、非对称加密是什么了"><meta name=twitter:description content="终于知道公钥、私钥、对称、非对称加密是什么了"></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://hexo.moonkite.cn/blog/background.png);background-position:top;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://www.moonkite.cn/></a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a href=https://www.moonkite.cn/ class=nav-link><i class="fas fad fa-h-square"></i>主页</a></li><li class=nav-item><a href=https://www.moonkite.cn/category/notes class=nav-link><i class='fas fa-yin-yang'></i>生活随笔</a></li><li class=nav-item><a href=javascript:void(0) class=nav-link><i class='fas fa-laptop-code'></i>技术文章</a><div class=sub-dropdown-menu><a class=sub-nav-link href=https://www.moonkite.cn/category/java><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48"><path fill="#f44336" d="M23.65 24.898c-.998-1.609-1.722-2.943-2.725-5.455C19.229 15.2 31.24 11.366 26.37 3.999c2.111 5.089-7.577 8.235-8.477 12.473-.823 3.898 5.752 8.426 5.757 8.426z"/><path fill="#f44336" d="M23.878 17.27c-.192 2.516 2.229 3.857 2.299 5.695.056 1.496-1.447 2.743-1.447 2.743s2.728-.536 3.579-2.818c.945-2.534-1.834-4.269-1.548-6.298.267-1.938 6.031-5.543 6.031-5.543S24.311 11.611 23.878 17.27z"/><g><path fill="#1565c0" d="M32.084 25.055c1.754-.394 3.233.723 3.233 2.01.0 2.901-4.021 5.643-4.021 5.643s6.225-.742 6.225-5.505c0-3.15-3.057-3.937-5.437-2.148zm-2.955 2.34s1.941-1.383 2.458-1.902c-4.763 1.011-15.638 1.147-15.638.269.0-.809 3.507-1.638 3.507-1.638s-7.773-.112-7.773 2.181C11.683 28.695 21.858 28.866 29.129 27.395z"/><path fill="#1565c0" d="M27.935 29.571c-4.509 1.499-12.814 1.02-10.354-.993-1.198.0-2.974.963-2.974 1.889.0 1.857 8.982 3.291 15.63.572l-2.302-1.468z"/><path fill="#1565c0" d="M18.686 32.739c-1.636.0-2.695 1.054-2.695 1.822.0 2.391 9.76 2.632 13.627.205l-2.458-1.632C24.271 34.404 17.014 34.579 18.686 32.739z"/><path fill="#1565c0" d="M36.281 36.632c0-.936-1.055-1.377-1.433-1.588 2.228 5.373-22.317 4.956-22.317 1.784.0-.721 1.807-1.427 3.477-1.093l-1.42-.839C11.26 34.374 9 35.837 9 37.017 9 42.52 36.281 42.255 36.281 36.632z"/><path fill="#1565c0" d="M39 38.604c-4.146 4.095-14.659 5.587-25.231 3.057C24.341 46.164 38.95 43.628 39 38.604z"/></g></svg>&nbsp;可爱的 Java</a>
<a class=sub-nav-link href=https://www.moonkite.cn/category/SpringCloud><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 48 48"><path fill="#8bc34a" d="M43.982 23.635c.069-4.261-.891-9.328-2.891-15.273L39.523 3.7l-2.13 4.433c-.114.237-.244.469-.38.698C33.514 5.827 28.974 4 24 4 12.954 4 4 12.954 4 24s8.954 20 20 20 20-8.954 20-20C44 23.877 43.984 23.758 43.982 23.635z"/><path fill="#fff" d="M39.385 32.558C36.262 36.86 30.734 37.091 25.531 37H18.75h-1.938c4.428-1.593 7.063-1.972 9.754-3.4 5.068-2.665 10.078-8.496 11.121-14.562-1.93 5.836-7.779 10.85-13.109 12.889-3.652 1.393-10.248 2.745-10.248 2.745l-.267-.145C9.573 32.268 9.437 22.214 17.6 18.968c3.574-1.423 6.993-.641 10.854-1.593 4.122-1.012 8.89-4.208 10.83-8.375C41.456 15.667 44.07 26.106 39.385 32.558zM15.668 38.445C15.386 38.795 14.955 39 14.505 39c-.823.0-1.495-.677-1.495-1.5s.677-1.5 1.495-1.5c.341.0.677.118.941.336C16.086 36.855 16.186 37.805 15.668 38.445z"/></svg>&nbsp; Spring Cloud 系列</a>
<a class=sub-nav-link href=https://www.moonkite.cn/category/other><img width=20 height=20 src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADWElEQVR4nO2X30tTYRjH9xd4X2Dsol1EEtJdEFiSF10pldlVaVHEjiFFkKQVQeV0kfSTHdfW1pzKlpZtzXJuzp2pmzPFTdmUTdLJlEAvNKyB8MYzPG/visHZ2jxrnQc+8PCc85zz/e592XkfkUgIIYT4v2OoTVrtVFDTjILaYmgK8YqC2oproalzKZlwKqga3sXTSeFuZts9ykWcNOXnbITcTj67IRQcG1rlE5/dECK3GXcjxC8ADwqMuxGfBMeGVklNaRmZ83z0L3+ZR3ywMBfInJHQqGl07esKAmYjK6hnJoph64Ar/KsOOXmNK6HOTszKtD9uJitGQGSRcQFDiqh1RHAd8nSMWMQSDJgRjLAhrIgxta3lDvaiRlMpxvKvbi3BCNfI+xVRehdRIT2DIUWdejeH65BzMWKd1KO6jqOYLrEE46fp7Bm5bgki0Q0bhhS1t3UM1yHnYuS1XY5Oy0swD8USjPNmQ2aNfO6WO0KjphHgbrc9XNjsirGwdeAY7Vpl65CT15LRYb4VltLHYyzKAwcxgw3Xwr5BQ9D9ll53dz9d+msjfNLfWoO6GstR7/0zCXXBCJMPKxLMl3kkmC9GQsTf706znK3vyKLdhtznL2ISPm5TaqQdro8DeTJxm4EHKDZRGQfy308HtdvAcJY1I3BsII8RpAgwwB41IE9mBAwgR0EcyMlrRcTxB45DgpFUV+RbSIMxuq4kXRFyFl+3VuTeiqBtQYCDqUxqhOyJPCsTjDDCitB5urW8zS2oTSzBxNS7MB3tpeiC4kicO8azCQLJnkB9Me750Xs44b4CmQcjc4SzZwSGHXL42Xy0B6NTHMIDUp36RIJAsmeS2od7vuuKE+4TEUMbDHGZMLLBNrlUV/3u9sYRwH7vkq/nZFmUJaotwfRoK5bk6qoooNRUh9kegOyZkpUtsT3zuvKE+6qev4myKF899nkNTeMTJuWsu6spTBjZ4GzESUv7+R6qmCQ4aeoTZyPDLy4XMTS1xrdo5k/WmDbpflEq4XpJ7XbS1O0+bYvnve7JLNCnkXkZWmrYCfo0Mi9+r7bFA1pAkyjd0Ov1EZVKhQDI034Q3++1mM39H8xmBECeEZV8vNdmtRptAwMojtVqzIjKHH6vEEIIIcrt+AnU4LBcH67z1wAAAABJRU5ErkJggg=="> &nbsp; 杂七杂八</a></div></li><li class=nav-item><a href=https://www.moonkite.cn/category/network class=nav-link><i class="fas fa-network-wired"></i>轻解计算机网络</a></li><li class=nav-item><a href=https://www.moonkite.cn/category/product class=nav-link><i class="fas fab fa-medapps"></i>我的产品</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>终于知道公钥、私钥、对称、非对称加密是什么了</h1><p class=header-date>作者：
风筝 /
2023-08-14<div class=header-underline></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://www.moonkite.cn/tag/Java/>Java</a>,
<a href=https://www.moonkite.cn/tag/JDK/>JDK</a>,
<a href=https://www.moonkite.cn/tag/%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/>对称加密</a>,
<a href=https://www.moonkite.cn/tag/%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86/>非对称加密</a>,
<a href=https://www.moonkite.cn/tag/%E5%85%AC%E9%92%A5/>公钥</a>,
<a href=https://www.moonkite.cn/tag/%E7%A7%81%E9%92%A5/>私钥</a></p></div></div></div></div></div><main><div class="container content"><article><p>有接入过第三方服务的同学应该都接触过公钥、私钥这类的说明，尤其是一些对参数要求验证的服务，比如支付类的。</p><p>通常对于高保密要求的参数都会有加密要求，这时候，如果你之前不了解加密算法，就很容易被公钥、私钥的使用给绕迷糊了。有时候虽然接口都调通了，但是还是一头雾水，这就通了?</p><p>那接下来我们就来解开这团迷雾。咱们只讲逻辑和一部分逻辑，不讲数学算法，因为数学这块儿我也不是很懂。</p><p>加密算法在大类上分为对称机密和非对称加密，都用来加密，只不过使用场景、性能、安全性方面有些不同。</p><h2 id=首先说什么是加密呢>首先说什么是加密呢?</h2><p>加密就是通过一种方式将一个显而易见的东西变成难以理解的东西。</p><p>比如这儿有个字符串“我真棒”，这三个字儿要摆在你面前不是一眼就知道我很棒了吗。</p><p>但是我要给你看这样一串东西呢？你还能一下子知道是什么意思吗？</p><pre tabindex=0><code>232 10 5,33 50 12,109 45 1
</code></pre><p>其实这还是那三个字，只不过是经过加密的密文，只有知道了加密的方法才能还原出来，也就是解密。</p><p>加密的过程可能是这样的：</p><ol><li>首先买一本叫做《人间清醒》的书；</li><li>然后按照逗号分隔，每一个逗号分隔开的表示一个字；</li><li>然后每一组是三个数字，第一个数字表示所在页，第二个数字表示所在行，第三个数字表示所在列（第几个字），所以 <code>232 10 5</code>，表示第 232 页，第 10 行，第 5 个字。</li></ol><p>还有，比如我之前有个温州的同事，他打电话的时候对于我们来说就是语音加密了，能听见他的声音，但是说的是什么内容一个字也听不出来。这也可以理解为一种加密，把普通话的发音转换成温州方言的发音。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230814112751914.png alt></p><h2 id=对称加密>对称加密</h2><p>对称加密中所说的对称是对加密和解密而言的，也就是加密和解密的过程使用相同的密钥。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230814114816786.png alt></p><p>我们经常用到的落库加密、文件加密都可以使用对称加密的方式。</p><p>目前最常用也是最安全的对称加密算法是 AES，AES 还分为 AES-128、AES-192 和 AES256，后面的数字代表加密密钥的位数，位数越高呢，加密效果也就越好，更加不容易被破解。同时，位数越高，加密和解密过程中的计算量也会越大，内存占用也就更大，消耗的资源更多，需要的时间也就更长。</p><p>有利有弊，看你的需求而定。基本上，一般场景下 128 位就足够安全了。AES 到目前为止，可以说没有漏洞，而且 128 位就可以保证不会被暴力破解。而更高位数的可能会用到国家级的保密数据上。</p><p>AES 是分组加密算法，除此之外，大部分的加密算法都是分组加密算法。</p><p>块加密算法就是将需要加密的数据分成一个个的固定长度的分组，比如 128 位一组，然后分别用算法对每一组进行加密，如果最后一组不足 128 位的话，还要用填充算法进行填充，保证达到 128 位。</p><p>常用的分组算法有 CTR 和 GCM，CTR 和 GCM 有并行计算的能力，并且, GCM 还能额外提供对消息完整性、真实性的验证能力。</p><p>所以我们在某些地方可能看到 AES-128-GCM、AES-256-CTR 这样的写法，前面表示加密算法，后面代表分组算法。</p><h3 id=不足之处>不足之处</h3><p>对称加密本身从算法层面来说已经足够安全了，但是在密钥分发方面有些不太容易管理。</p><p>因为加解密的密钥相同。我加密的数据想要被别人使用，我就要把密钥告诉要使用的人。知道密钥的人、保存密钥的服务器越多，风险就越大。约束自己容易，约束别人难啊。但凡有一方不小心把密钥泄露就完。一个木桶能装多少水是由最低的一块木板决定的。</p><h2 id=非对称加密>非对称加密</h2><p>由于对称加密的密钥分发问题，非对称加密算法可以完美的解决。</p><p>刚毕业不就的时候，和第三方服务做集成，有关于接口参数加密的指引文档，虽然按照人家提供的 demo 可以正常集成，但是文档上说的公钥、私钥还是搞的很迷糊。</p><p>现在就来捋一捋啊，就以第三方服务角度来说。假设我是一个支付服务商，为大家提供支付接口的。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230814154311673.png alt></p><p><strong>公钥</strong></p><p>公钥是开放的，谁都可以获取。我作为一个支付服务商，任何到我平台上注册的用户都可以获取到公钥，公钥可以是相同的。</p><p><strong>私钥</strong></p><p>私钥是绝密的，我作为一个支付服务商，必须将私钥妥善保存，无论是保存在数据库中还是保存在服务器，都必须保证私钥不对外，只有我自己可以使用。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230814133955745.png alt></p><ol><li>使用我服务的用户获取公钥；</li><li>调用方（客户）用公钥对接口参数进行加密，然后调用接口；</li><li>我方（支付服务商）用私钥对参数进行解密，然后使用参数进行业务处理；</li></ol><p>以上是公钥、私钥的使用过程，这样一看就很明确了。</p><p>之所以说是非对称加密，是因为私钥只是用来解密的，用公钥加密过的数据，只有用对应的私钥才能解密出来。所以说，即使有那么多人得到了相同的公钥，也无法获取别人加密过的数据。</p><p>最常用的非对称加密算法是 RSA ，RSA 有 1024、2048、3072、4096、8129、16384 甚至更多位。目前 <strong>3072</strong> 位及以上的密钥长度被认为是安全的，曾经大量使用的 <strong>2048</strong> 位 RSA 现在被破解的风险在不断提升，已经不推荐使用了</p><p>RSA 算法的性能要比对称加密 AES 算法差 1000 倍左右，虽然数学原理上不太明白，但是有数学常识就可以知道，使用不同的密钥进行加密和解密，必然要比使用相同密钥的算法复杂很多，由此肯定会带来性能上的开销。</p><p>非对称加密适合用于那些对安全性要求更高的场景，例如支付场景、数字证书、数据加密传输等等。</p></article><div class=toc><h2>文章目录</h2><nav id=TableOfContents><ul><li><a href=#首先说什么是加密呢>首先说什么是加密呢?</a></li><li><a href=#对称加密>对称加密</a><ul><li><a href=#不足之处>不足之处</a></li></ul></li><li><a href=#非对称加密>非对称加密</a></li></ul></nav></div><script>window.addEventListener("scroll",function(){var e=document.querySelector(".toc"),t=window.pageYOffset||document.documentElement.scrollTop,n=window.innerWidth||document.documentElement.clientWidth;t<360?e.style.top=380-t+"px":e.style.top="20px"})</script><h4>相关文章</h4><dl class=row><dd class=col-md-9><a href=/category/java/Runable%E5%92%8CCallable/>什么时候用 Runnable？什么时候用 Callable ？</a></dd><dd class=col-md-9><a href=/category/java/%E4%BB%80%E4%B9%88%E6%98%AF%E9%9B%B6%E6%8B%B7%E8%B4%9D/>什么是零拷贝|Java中的零拷贝</a></dd><dd class=col-md-9><a href=/category/java/RPC-%E6%A6%82%E8%A7%88/>RPC框架的核心是什么？</a></dd><dd class=col-md-9><a href=/category/SpringCloud/0-Srping-Cloud-%E5%BC%80%E7%AF%87/>0. Spring Cloud 是什么</a></dd><dd class=col-md-9><a href=/category/SpringCloud/1-Spring-Cloud-Eureka-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0/>1. Spring Cloud Eureka 实现服务注册与发现</a></dd></dl><div class=author-card><div class=underline></div><div class=author-box><div class=qr-author-image><a href=/><img src=/images/person.jpg alt=风筝></a></div><div class=author-content><p class=author-title>作者</p><p class=author-name>风筝</p><p class=author-desc>古时的风筝，一个平庸的程序员，主语言 Java，第二语言 Python，其实学 Python 的时间比 Java 还要早。喜欢写博客，写博客的过程能加深自己对一个知识点的理解，同时还可以分享给他人。喜欢做一些小东西，所以也会一些前端的东西，React、JavaScript、CSS 都会一些，做一些小工具还够用。</p></div></div></div><script src=https://utteranc.es/client.js repo=huzhicheng/blog-comment issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>网站地图</div><ul class=list-unstyled><li><a href=https://www.moonkite.cn/tags/>标签</a></li><li><a href=https://www.moonkite.cn/categories/>分类</a></li><li><a rel=alternate type=application/rss+xml href=https://www.moonkite.cn/index.xml><i class="fas fa-rss-square"></i> RSS订阅</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>社群</div><ul class=list-unstyled><li><a href=https://github.com/huzhicheng rel=noopener target=_blank>GitHub</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>友链</div><ul class=list-unstyled><li><a href=https://github.com/huzhicheng rel=noopener target=_blank>关于我</a></li></ul></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em>Proudly powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo</a></em></small><br><small><em>Theme - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>Den</a></em></small><br><small>&copy;
风筝
2023</small></p></div></div><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?e417ddf834c7bb7411207e1fa09815aa",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></div></div><script src=https://cdn.staticfile.org/jquery/3.3.1/jquery.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script><script src=https://cdn.staticfile.org/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://cdn.staticfile.org/twitter-bootstrap/4.1.3/js/bootstrap.js></script><script>$(document).ready(function(){$("#load_disqus").length&&$(window).scroll(function(){if($("#load_disqus").length){var e=$("#load_disqus").offset().top,t=$(window).scrollTop(),n=t+$(window).height();t<e&&e<n&&load_disqus()}})})</script></body></html>