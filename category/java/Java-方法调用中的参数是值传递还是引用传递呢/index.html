<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.113.0"><meta charset=utf-8><title>Java 方法调用中的参数是值传递还是引用传递呢？ · 古时的风筝</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="**Java 方法调用中的参数是值传递还是引用传递呢？**相信每个做开发的同学都碰到过传这个问题，不光是做 Java 的同学，用 C#、Python 开发的同学同样肯"><meta name=keywords content="Hugo,theme,编程,java,ChatGPT,程序员,开发"><link rel=canonical href=https://moonkite.cn/category/java/Java-%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%E6%98%AF%E5%80%BC%E4%BC%A0%E9%80%92%E8%BF%98%E6%98%AF%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%E5%91%A2/><link rel=icon href=https://moonkite.cn/images/photo.png><link rel=stylesheet href=https://cdn.usebootstrap.com/bootstrap/4.1.3/css/bootstrap.min.css><link rel=stylesheet href=https://moonkite.cn/css/den.css><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><meta property="og:title" content="Java 方法调用中的参数是值传递还是引用传递呢？"><meta property="og:description" content="**Java 方法调用中的参数是值传递还是引用传递呢？**相信每个做开发的同学都碰到过传这个问题，不光是做 Java 的同学，用 C#、Python 开发的同学同样肯"><meta property="og:type" content="article"><meta property="og:url" content="https://moonkite.cn/category/java/Java-%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0%E6%98%AF%E5%80%BC%E4%BC%A0%E9%80%92%E8%BF%98%E6%98%AF%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%E5%91%A2/"><meta property="article:section" content="category"><meta property="article:published_time" content="2020-05-20T08:56:23+08:00"><meta property="article:modified_time" content="2020-05-20T08:56:23+08:00"><meta itemprop=name content="Java 方法调用中的参数是值传递还是引用传递呢？"><meta itemprop=description content="**Java 方法调用中的参数是值传递还是引用传递呢？**相信每个做开发的同学都碰到过传这个问题，不光是做 Java 的同学，用 C#、Python 开发的同学同样肯"><meta itemprop=datePublished content="2020-05-20T08:56:23+08:00"><meta itemprop=dateModified content="2020-05-20T08:56:23+08:00"><meta itemprop=wordCount content="2288"><meta itemprop=keywords content="Java,JDK,传引用,传值,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Java 方法调用中的参数是值传递还是引用传递呢？"><meta name=twitter:description content="**Java 方法调用中的参数是值传递还是引用传递呢？**相信每个做开发的同学都碰到过传这个问题，不光是做 Java 的同学，用 C#、Python 开发的同学同样肯"></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://moonkite.cn/images/background.png);background-position:top;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://moonkite.cn/></a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a href=https://moonkite.cn/ class=nav-link><i class="fas fad fa-h-square"></i>主页</a></li><li class=nav-item><a href=https://moonkite.cn/category/notes/ class=nav-link><i class='fas fa-yin-yang'></i>生活随笔</a></li><li class=nav-item><a href=javascript:void(0) class=nav-link><i class='fas fa-laptop-code'></i>技术文章</a><div class=sub-dropdown-menu><a class=sub-nav-link href=https://moonkite.cn/category/java><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48"><path fill="#f44336" d="M23.65 24.898c-.998-1.609-1.722-2.943-2.725-5.455C19.229 15.2 31.24 11.366 26.37 3.999c2.111 5.089-7.577 8.235-8.477 12.473-.823 3.898 5.752 8.426 5.757 8.426z"/><path fill="#f44336" d="M23.878 17.27c-.192 2.516 2.229 3.857 2.299 5.695.056 1.496-1.447 2.743-1.447 2.743s2.728-.536 3.579-2.818c.945-2.534-1.834-4.269-1.548-6.298.267-1.938 6.031-5.543 6.031-5.543S24.311 11.611 23.878 17.27z"/><g><path fill="#1565c0" d="M32.084 25.055c1.754-.394 3.233.723 3.233 2.01.0 2.901-4.021 5.643-4.021 5.643s6.225-.742 6.225-5.505c0-3.15-3.057-3.937-5.437-2.148zm-2.955 2.34s1.941-1.383 2.458-1.902c-4.763 1.011-15.638 1.147-15.638.269.0-.809 3.507-1.638 3.507-1.638s-7.773-.112-7.773 2.181C11.683 28.695 21.858 28.866 29.129 27.395z"/><path fill="#1565c0" d="M27.935 29.571c-4.509 1.499-12.814 1.02-10.354-.993-1.198.0-2.974.963-2.974 1.889.0 1.857 8.982 3.291 15.63.572l-2.302-1.468z"/><path fill="#1565c0" d="M18.686 32.739c-1.636.0-2.695 1.054-2.695 1.822.0 2.391 9.76 2.632 13.627.205l-2.458-1.632C24.271 34.404 17.014 34.579 18.686 32.739z"/><path fill="#1565c0" d="M36.281 36.632c0-.936-1.055-1.377-1.433-1.588 2.228 5.373-22.317 4.956-22.317 1.784.0-.721 1.807-1.427 3.477-1.093l-1.42-.839C11.26 34.374 9 35.837 9 37.017 9 42.52 36.281 42.255 36.281 36.632z"/><path fill="#1565c0" d="M39 38.604c-4.146 4.095-14.659 5.587-25.231 3.057C24.341 46.164 38.95 43.628 39 38.604z"/></g></svg>&nbsp;可爱的 Java</a>
<a class=sub-nav-link href=https://moonkite.cn/category/SpringCloud><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 48 48"><path fill="#8bc34a" d="M43.982 23.635c.069-4.261-.891-9.328-2.891-15.273L39.523 3.7l-2.13 4.433c-.114.237-.244.469-.38.698C33.514 5.827 28.974 4 24 4 12.954 4 4 12.954 4 24s8.954 20 20 20 20-8.954 20-20C44 23.877 43.984 23.758 43.982 23.635z"/><path fill="#fff" d="M39.385 32.558C36.262 36.86 30.734 37.091 25.531 37H18.75h-1.938c4.428-1.593 7.063-1.972 9.754-3.4 5.068-2.665 10.078-8.496 11.121-14.562-1.93 5.836-7.779 10.85-13.109 12.889-3.652 1.393-10.248 2.745-10.248 2.745l-.267-.145C9.573 32.268 9.437 22.214 17.6 18.968c3.574-1.423 6.993-.641 10.854-1.593 4.122-1.012 8.89-4.208 10.83-8.375C41.456 15.667 44.07 26.106 39.385 32.558zM15.668 38.445C15.386 38.795 14.955 39 14.505 39c-.823.0-1.495-.677-1.495-1.5s.677-1.5 1.495-1.5c.341.0.677.118.941.336C16.086 36.855 16.186 37.805 15.668 38.445z"/></svg>&nbsp; Spring Cloud 系列</a></div></li><li class=nav-item><a href=https://moonkite.cn/category/network class=nav-link><i class="fas fa-network-wired"></i>轻解计算机网络</a></li><li class=nav-item><a href=https://moonkite.cn/category/product class=nav-link><i class="fas fab fa-medapps"></i>我的产品</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>Java 方法调用中的参数是值传递还是引用传递呢？</h1><p class=header-date>作者：
风筝 /
2020-05-20<div class=header-underline></div><div class=header-date>&nbsp·&nbsp
  <span id=busuanzi_container_page_pv>本文被阅读<span id=busuanzi_value_page_pv></span>次</span></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://moonkite.cn/tag/Java/>Java</a>,
<a href=https://moonkite.cn/tag/JDK/>JDK</a>,
<a href=https://moonkite.cn/tag/%E4%BC%A0%E5%BC%95%E7%94%A8/>传引用</a>,
<a href=https://moonkite.cn/tag/%E4%BC%A0%E5%80%BC/>传值</a></p></div></div></div></div></div><main><div class="container content"><article><blockquote><p>**Java 方法调用中的参数是值传递还是引用传递呢？**相信每个做开发的同学都碰到过传这个问题，不光是做 Java 的同学，用 C#、Python 开发的同学同样肯定遇到过这个问题，而且很有可能不止一次。</p><p>那么，Java 中到底是值传递还是引用传递呢，<strong>答案是值传递，Java 中没有引用传递这个概念。</strong></p></blockquote><h3 id=数据类型和内存分配>数据类型和内存分配</h3><p>Java 中有可以概括为两大类数据类型，一类是基本类型，另一类是引用类型。</p><p><strong>基本类型</strong></p><p>byte、short、int、long、float、double、char、boolean 是 Java 中的八种基本类型。基本类型的内存分配在栈上完成，也就是 JVM 的虚拟机栈。也就是说，当你使用如下语句时：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>89</span><span class=o>;</span>
</span></span></code></pre></div><p>会在虚拟机栈上分配 4 个字节的空间出来存放。</p><p><strong>引用类型</strong></p><p>引用类型有类、接口、数组以及 null 。我们平时熟悉的各种自定义的实体类啊就在这个范畴里。</p><p>当我们定义一个对象并且使用 new 关键字来实例化对象时。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>User</span> <span class=n>user</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=o>();</span>
</span></span></code></pre></div><p>会经历如下三个步骤:</p><p>1、声明一个引用变量 user，在虚拟机栈上分配空间；</p><p>2、使用 new 关键字创建对象实例，在堆上分配空间存放对象内的属性信息；</p><p>3、将堆上的对象链接到 user 变量上，所以栈上存储的实际上就是存的对象在堆上的地址信息；</p><p>数组对象也是一样的，栈上只是存了一个地址，指向堆上实际分配的数组空间，实际的值是存在堆上的。</p><p>为了清楚的展示空间分配，我画了一张类型空间分配的示例图。</p><p><img src=https://hexo.moonkite.cn/blog/0.png alt=0></p><h3 id=没有争议的基本类型>没有争议的基本类型</h3><p>当我们将 8 种基本类型作为方法参数传递时，没有争议，传的是什么(也就是实参)，方法中接收的就是什么(也就是形参)。传递过去的是 1 ，那接到的就是1，传过去的是 true，接收到的也就是 true。</p><p>看下面这个例子，将变量 oldIntValue 传给 changeIntValue 方法，在方法内对参数值进行修改，最后输出的结果还是 1。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span> <span class=n>String</span><span class=o>[]</span> <span class=n>args</span> <span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>oldIntValue</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldIntValue</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>passByValueOrRef</span><span class=o>.</span><span class=na>changeIntValue</span><span class=o>(</span> <span class=n>oldIntValue</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldIntValue</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>changeIntValue</span><span class=o>(</span> <span class=kt>int</span> <span class=n>oldValue</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>newValue</span> <span class=o>=</span> <span class=mi>100</span><span class=o>;</span>
</span></span><span class=line><span class=cl>	<span class=n>oldValue</span> <span class=o>=</span> <span class=n>newValue</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>改变参数值并不会改变原变量的值，没错吧，Java 是按值传递。</p><h3 id=数组和类>数组和类</h3><h5 id=数组>数组</h5><p>有的同学说那不对呀，你看我下面这段代码，就不是这样。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span> <span class=n>String</span><span class=o>[]</span> <span class=n>args</span> <span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span><span class=o>[]</span> <span class=n>oldArray</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[]</span> <span class=o>{</span> <span class=mi>1</span><span class=o>,</span> <span class=mi>2</span> <span class=o>};</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldArray</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>changeArrayValue</span><span class=o>(</span> <span class=n>oldArray</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldArray</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>changeArrayValue</span><span class=o>(</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>newArray</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>	<span class=n>newArray</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>=</span> <span class=mi>100</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>这段代码的输出是</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=m>100</span>
</span></span></code></pre></div><p>说明调用 changeArrayValue 方法时，修改传过来的数组参数中的第一项后，原变量的内容改变了，那这怎么是值传递呢。</p><p>别急，看看下面这张图，展示了数组在 JVM 中的内存分配示例图。</p><p><img src=https://hexo.moonkite.cn/blog/1.png alt=1></p><p>实际上可以理解为 changeArrayValue 方法接收的参数是原变量 oldArray 的副本拷贝，只不过数组引用中存的只是指向堆中数组空间的首地址而已，所以，当调用 changeArrayValue 方法后，就形成了 oldArray 和 newArray 两个变量在栈中的引用地址都指向了同一个数组地址。所以修改参数的每个元素就相当于修改了原变量的元素。</p><h5 id=类>类</h5><p>一般我们在开发过程中有很多将类实例作为参数的情况，我们抽象出来的各种对象经常在方法间传递。比如我们定义了一个用户实体类。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>age</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>User</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=kt>int</span> <span class=n>age</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>age</span> <span class=o>=</span> <span class=n>age</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getName</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setName</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getAge</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>age</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setAge</span><span class=o>(</span><span class=kt>int</span> <span class=n>age</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>age</span> <span class=o>=</span> <span class=n>age</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;User{&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;name=&#39;&#34;</span> <span class=o>+</span> <span class=n>name</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, age=&#34;</span> <span class=o>+</span> <span class=n>age</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=sc>&#39;}&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>比方说我们有一个原始的实体 User 类对象，将这个实体对象传给一个方法，这个方法可能会有一些逻辑处理，比如我们拿到这个用户的 name 属性，发现 name 为空，我们就给 name 属性赋予一个随机名称，例如 “用户398988”。这应该是很常见的一类场景了。</p><p>我们通常这样使用，将 user 实例当做参数传过来，处理完成后，再将它返回。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span> <span class=n>String</span><span class=o>[]</span> <span class=n>args</span> <span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>User</span> <span class=n>oldUser</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=o>(</span> <span class=s>&#34;原始姓名&#34;</span><span class=o>,</span> <span class=mi>8</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldUser</span><span class=o>.</span><span class=na>toString</span><span class=o>()</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>oldUser</span> <span class=o>=</span> <span class=n>changeUserValue</span><span class=o>(</span> <span class=n>oldUser</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldUser</span><span class=o>.</span><span class=na>toString</span><span class=o>()</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>User</span> <span class=nf>changeUserValue</span><span class=o>(</span> <span class=n>User</span> <span class=n>newUser</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>	<span class=n>newUser</span><span class=o>.</span><span class=na>setName</span><span class=o>(</span> <span class=s>&#34;新名字&#34;</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>newUser</span><span class=o>.</span><span class=na>setAge</span><span class=o>(</span> <span class=mi>18</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>newUser</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>但有的同学说，我发现修改完成后就算不返回，原变量 oldUser 的属性也改变了，比如下面这样：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span> <span class=n>String</span><span class=o>[]</span> <span class=n>args</span> <span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>User</span> <span class=n>oldUser</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=o>(</span> <span class=s>&#34;原始姓名&#34;</span><span class=o>,</span> <span class=mi>8</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldUser</span><span class=o>.</span><span class=na>toString</span><span class=o>()</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>changeUserValue</span><span class=o>(</span> <span class=n>oldUser</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldUser</span><span class=o>.</span><span class=na>toString</span><span class=o>()</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>changeUserValue</span><span class=o>(</span> <span class=n>User</span> <span class=n>newUser</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>	<span class=n>newUser</span><span class=o>.</span><span class=na>setName</span><span class=o>(</span> <span class=s>&#34;新名字&#34;</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>newUser</span><span class=o>.</span><span class=na>setAge</span><span class=o>(</span> <span class=mi>18</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>返回的结果都是下面这样</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>User</span><span class=p>{</span><span class=err>name=&#39;原始姓名&#39;,</span> <span class=err>age=8</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>User</span><span class=p>{</span><span class=err>name=&#39;新名字&#39;,</span> <span class=err>age=18</span><span class=p>}</span>
</span></span></code></pre></div><p>那这不就是引用传递吗，改了参数的属性，就改了原变量的属性。仍然来看一张图</p><p><img src=https://hexo.moonkite.cn/blog/3.png alt=3></p><p>实际上仍然不是引用传递，引用传递我们学习 C++ 的时候经常会用到，就是指针。而这里传递的其实是一个副本，副本中只存了指向堆空间对象实体的地址而已。我们我们修改参数 newUser 的属性间接的就是修改了原变量的属性。</p><p>有同学说，那画一张图说这样就是这样吗，你说是副本就是副本吗，我偏说就是传的引用，就是原变量，也说得通啊。</p><p>确实是说的通，如果真是引用传递，也确实是这样的效果没错。那我们就来个反例。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span> <span class=n>String</span><span class=o>[]</span> <span class=n>args</span> <span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span><span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=n>User</span> <span class=n>oldUser</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=o>(</span> <span class=s>&#34;原始姓名&#34;</span><span class=o>,</span> <span class=mi>8</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldUser</span><span class=o>.</span><span class=na>toString</span><span class=o>()</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>wantChangeUser</span><span class=o>(</span> <span class=n>oldUser</span> <span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span> <span class=n>oldUser</span><span class=o>.</span><span class=na>toString</span><span class=o>()</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>wantChangeUser</span><span class=o>(</span> <span class=n>User</span> <span class=n>newUser</span> <span class=o>){</span>
</span></span><span class=line><span class=cl>	<span class=n>newUser</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=o>(</span> <span class=s>&#34;新姓名&#34;</span><span class=o>,</span> <span class=mi>18</span> <span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>假设就是引用传递，那么 newUser 和 main 方法中的 oldUser 就是同一个引用对象，那我在 wantChangeUser 方法中重新 new 了一个 User 实体，并赋值给了 newUser，按照引用传递这个说法，我赋值给了参数也就是赋值给了原始变量，那么当完成赋值操作后，原变量 oldUser 就应该是 name = &ldquo;新名字&rdquo;、age=18 才对。</p><p>然后，我们运行看看输出结果：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=err>User</span><span class=p>{</span><span class=err>name=&#39;原始姓名&#39;,</span> <span class=err>age=8</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>User</span><span class=p>{</span><span class=err>name=&#39;原始姓名&#39;,</span> <span class=err>age=8</span><span class=p>}</span>
</span></span></code></pre></div><p>结果依然是修改前的值，我们修改了 newUser ，并没有影响到原变量，显然不是引用传递。</p><h3 id=结论>结论</h3><p>Java 中的参数传递是值传递，并且 Java 中没有引用传递这个概念。我们通常说的引用传递，一般都是从 C 语言和 C like 而来，因为它们有指针的概念。</p><p>而我们也知道，C、C++ 中需要程序员自己管理内存，而指针的使用经常会导致内存泄漏一类的问题，Java 千辛万苦的就是为了让程序员解放出来，而使用垃圾收集策略管理内存，这其中很重要的一点就是规避了指针的使用，所以在 Java 的世界中没有所谓的指针传递。</p></article><h4>相关文章</h4><dl class=row><dd class=col-md-9><a href=/category/SpringCloud/0-Srping-Cloud-%E5%BC%80%E7%AF%87/>0. Spring Cloud 是什么</a></dd><dd class=col-md-9><a href=/category/SpringCloud/1-Spring-Cloud-Eureka-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0/>1. Spring Cloud Eureka 实现服务注册与发现</a></dd><dd class=col-md-9><a href=/category/SpringCloud/2-Spring-Cloud-Eureka-%E5%AE%9E%E7%8E%B0%E5%AE%89%E5%85%A8%E6%8E%A7%E5%88%B6/>2. Spring Cloud Eureka 实现安全控制</a></dd><dd class=col-md-9><a href=/category/SpringCloud/3-Spring-Cloud-Eureka-%E5%AE%9E%E7%8E%B0%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83/>3. Spring Cloud Eureka 实现高可用服务发现注册中心</a></dd><dd class=col-md-9><a href=/category/SpringCloud/4.-Spring-Cloud-Config-%E5%AE%9E%E7%8E%B0%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/>4. Spring Cloud Config 实现配置中心，看这一篇就够了</a></dd></dl><div class=author-card><div class=underline></div><div class=author-box><div class=qr-author-image><a href=https://www.moonkite.cn><img src=/images/person.jpg alt=风筝></a></div><div class=author-content><p class=author-title>作者</p><p class=author-name>风筝</p><p class=author-desc>古时的风筝，一个平庸的程序员，主语言 Java，第二语言 Python，其实学 Python 的时间比 Java 还要早。喜欢写博客，写博客的过程能加深自己对一个知识点的理解，同时还可以分享给他人。喜欢做一些小东西，所以也会一些前端的东西，React、JavaScript、CSS 都会一些，做一些小工具还够用。</p></div></div></div><script src=https://utteranc.es/client.js repo=huzhicheng/blog-comment issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>网站地图</div><ul class=list-unstyled><li><a href=https://moonkite.cn/tags/>标签</a></li><li><a href=https://moonkite.cn/categories/>分类</a></li><li><a rel=alternate type=application/rss+xml href=https://moonkite.cn/index.xml><i class="fas fa-rss-square"></i> RSS订阅</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>社群</div><ul class=list-unstyled><li><a href=https://github.com/huzhicheng rel=noopener target=_blank>GitHub</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>友链</div><ul class=list-unstyled><li><a href=https://github.com/huzhicheng rel=noopener target=_blank>关于我</a></li></ul></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em>Proudly powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo</a></em></small><br><small><em>Theme - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>Den</a></em></small><br><small>&copy;
风筝
2023</small></p></div></div><div class=busuanzi-footer><span id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次</span>
<span id=busuanzi_container_site_uv>本站访客数<span id=busuanzi_value_site_uv></span>人次</span></div></div></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap_4.1.3_js_bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script>$(document).ready(function(){$("#load_disqus").length&&$(window).scroll(function(){if($("#load_disqus").length){var e=$("#load_disqus").offset().top,t=$(window).scrollTop(),n=t+$(window).height();t<e&&e<n&&load_disqus()}})})</script></body></html>