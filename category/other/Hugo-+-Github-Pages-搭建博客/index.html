<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.118.2"><meta charset=utf-8><title>使用 Hugo + GitHub Pages 搭建个人博客 · 古时的风筝</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="我的博客地址，https://www.moonkite.cn 很多人都想创建自己的个人博客或网站，但是由于种种原因，都被劝退了。 比如没有流量没"><meta name=360-site-verification content="e75339f1cfcde17f66f71aaf8b6983e9"><meta name=keywords content="Hugo,theme,编程,java,ChatGPT,程序员,开发"><meta name=google-site-verification content="google57680cd58c46e2f3.html"><link rel=canonical href=https://www.moonkite.cn/category/other/Hugo-+-Github-Pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/><link rel=icon href=https://www.moonkite.cn/images/photo.png><link rel=stylesheet href=https://cdn.usebootstrap.com/bootstrap/4.1.3/css/bootstrap.min.css><link rel=stylesheet href=https://www.moonkite.cn/css/den.css><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-webfont/1.6.0/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><meta property="og:title" content="使用 Hugo + GitHub Pages 搭建个人博客"><meta property="og:description" content="我的博客地址，https://www.moonkite.cn 很多人都想创建自己的个人博客或网站，但是由于种种原因，都被劝退了。 比如没有流量没"><meta property="og:type" content="article"><meta property="og:url" content="https://www.moonkite.cn/category/other/Hugo-+-Github-Pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"><meta property="article:section" content="category"><meta property="article:published_time" content="2023-06-02T08:56:23+08:00"><meta property="article:modified_time" content="2023-06-02T08:56:23+08:00"><meta itemprop=name content="使用 Hugo + GitHub Pages 搭建个人博客"><meta itemprop=description content="我的博客地址，https://www.moonkite.cn 很多人都想创建自己的个人博客或网站，但是由于种种原因，都被劝退了。 比如没有流量没"><meta itemprop=datePublished content="2023-06-02T08:56:23+08:00"><meta itemprop=dateModified content="2023-06-02T08:56:23+08:00"><meta itemprop=wordCount content="6987"><meta itemprop=keywords content="Hugo,GitHub Pages,个人博客,"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用 Hugo + GitHub Pages 搭建个人博客"><meta name=twitter:description content="我的博客地址，https://www.moonkite.cn 很多人都想创建自己的个人博客或网站，但是由于种种原因，都被劝退了。 比如没有流量没"></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://www.moonkite.cn/images/background.png);background-position:top;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://www.moonkite.cn/></a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a href=https://www.moonkite.cn/ class=nav-link><i class="fas fad fa-h-square"></i>主页</a></li><li class=nav-item><a href=https://www.moonkite.cn/category/notes class=nav-link><i class='fas fa-yin-yang'></i>生活随笔</a></li><li class=nav-item><a href=javascript:void(0) class=nav-link><i class='fas fa-laptop-code'></i>技术文章</a><div class=sub-dropdown-menu><a class=sub-nav-link href=https://www.moonkite.cn/category/java><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48"><path fill="#f44336" d="M23.65 24.898c-.998-1.609-1.722-2.943-2.725-5.455C19.229 15.2 31.24 11.366 26.37 3.999c2.111 5.089-7.577 8.235-8.477 12.473-.823 3.898 5.752 8.426 5.757 8.426z"/><path fill="#f44336" d="M23.878 17.27c-.192 2.516 2.229 3.857 2.299 5.695.056 1.496-1.447 2.743-1.447 2.743s2.728-.536 3.579-2.818c.945-2.534-1.834-4.269-1.548-6.298.267-1.938 6.031-5.543 6.031-5.543S24.311 11.611 23.878 17.27z"/><g><path fill="#1565c0" d="M32.084 25.055c1.754-.394 3.233.723 3.233 2.01.0 2.901-4.021 5.643-4.021 5.643s6.225-.742 6.225-5.505c0-3.15-3.057-3.937-5.437-2.148zm-2.955 2.34s1.941-1.383 2.458-1.902c-4.763 1.011-15.638 1.147-15.638.269.0-.809 3.507-1.638 3.507-1.638s-7.773-.112-7.773 2.181C11.683 28.695 21.858 28.866 29.129 27.395z"/><path fill="#1565c0" d="M27.935 29.571c-4.509 1.499-12.814 1.02-10.354-.993-1.198.0-2.974.963-2.974 1.889.0 1.857 8.982 3.291 15.63.572l-2.302-1.468z"/><path fill="#1565c0" d="M18.686 32.739c-1.636.0-2.695 1.054-2.695 1.822.0 2.391 9.76 2.632 13.627.205l-2.458-1.632C24.271 34.404 17.014 34.579 18.686 32.739z"/><path fill="#1565c0" d="M36.281 36.632c0-.936-1.055-1.377-1.433-1.588 2.228 5.373-22.317 4.956-22.317 1.784.0-.721 1.807-1.427 3.477-1.093l-1.42-.839C11.26 34.374 9 35.837 9 37.017 9 42.52 36.281 42.255 36.281 36.632z"/><path fill="#1565c0" d="M39 38.604c-4.146 4.095-14.659 5.587-25.231 3.057C24.341 46.164 38.95 43.628 39 38.604z"/></g></svg>&nbsp;可爱的 Java</a>
<a class=sub-nav-link href=https://www.moonkite.cn/category/SpringCloud><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 48 48"><path fill="#8bc34a" d="M43.982 23.635c.069-4.261-.891-9.328-2.891-15.273L39.523 3.7l-2.13 4.433c-.114.237-.244.469-.38.698C33.514 5.827 28.974 4 24 4 12.954 4 4 12.954 4 24s8.954 20 20 20 20-8.954 20-20C44 23.877 43.984 23.758 43.982 23.635z"/><path fill="#fff" d="M39.385 32.558C36.262 36.86 30.734 37.091 25.531 37H18.75h-1.938c4.428-1.593 7.063-1.972 9.754-3.4 5.068-2.665 10.078-8.496 11.121-14.562-1.93 5.836-7.779 10.85-13.109 12.889-3.652 1.393-10.248 2.745-10.248 2.745l-.267-.145C9.573 32.268 9.437 22.214 17.6 18.968c3.574-1.423 6.993-.641 10.854-1.593 4.122-1.012 8.89-4.208 10.83-8.375C41.456 15.667 44.07 26.106 39.385 32.558zM15.668 38.445C15.386 38.795 14.955 39 14.505 39c-.823.0-1.495-.677-1.495-1.5s.677-1.5 1.495-1.5c.341.0.677.118.941.336C16.086 36.855 16.186 37.805 15.668 38.445z"/></svg>&nbsp; Spring Cloud 系列</a>
<a class=sub-nav-link href=https://www.moonkite.cn/category/other><img width=20 height=20 src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADWElEQVR4nO2X30tTYRjH9xd4X2Dsol1EEtJdEFiSF10pldlVaVHEjiFFkKQVQeV0kfSTHdfW1pzKlpZtzXJuzp2pmzPFTdmUTdLJlEAvNKyB8MYzPG/visHZ2jxrnQc+8PCc85zz/e592XkfkUgIIYT4v2OoTVrtVFDTjILaYmgK8YqC2oproalzKZlwKqga3sXTSeFuZts9ykWcNOXnbITcTj67IRQcG1rlE5/dECK3GXcjxC8ADwqMuxGfBMeGVklNaRmZ83z0L3+ZR3ywMBfInJHQqGl07esKAmYjK6hnJoph64Ar/KsOOXmNK6HOTszKtD9uJitGQGSRcQFDiqh1RHAd8nSMWMQSDJgRjLAhrIgxta3lDvaiRlMpxvKvbi3BCNfI+xVRehdRIT2DIUWdejeH65BzMWKd1KO6jqOYLrEE46fp7Bm5bgki0Q0bhhS1t3UM1yHnYuS1XY5Oy0swD8USjPNmQ2aNfO6WO0KjphHgbrc9XNjsirGwdeAY7Vpl65CT15LRYb4VltLHYyzKAwcxgw3Xwr5BQ9D9ll53dz9d+msjfNLfWoO6GstR7/0zCXXBCJMPKxLMl3kkmC9GQsTf706znK3vyKLdhtznL2ISPm5TaqQdro8DeTJxm4EHKDZRGQfy308HtdvAcJY1I3BsII8RpAgwwB41IE9mBAwgR0EcyMlrRcTxB45DgpFUV+RbSIMxuq4kXRFyFl+3VuTeiqBtQYCDqUxqhOyJPCsTjDDCitB5urW8zS2oTSzBxNS7MB3tpeiC4kicO8azCQLJnkB9Me750Xs44b4CmQcjc4SzZwSGHXL42Xy0B6NTHMIDUp36RIJAsmeS2od7vuuKE+4TEUMbDHGZMLLBNrlUV/3u9sYRwH7vkq/nZFmUJaotwfRoK5bk6qoooNRUh9kegOyZkpUtsT3zuvKE+6qev4myKF899nkNTeMTJuWsu6spTBjZ4GzESUv7+R6qmCQ4aeoTZyPDLy4XMTS1xrdo5k/WmDbpflEq4XpJ7XbS1O0+bYvnve7JLNCnkXkZWmrYCfo0Mi9+r7bFA1pAkyjd0Ov1EZVKhQDI034Q3++1mM39H8xmBECeEZV8vNdmtRptAwMojtVqzIjKHH6vEEIIIcrt+AnU4LBcH67z1wAAAABJRU5ErkJggg=="> &nbsp; 杂七杂八</a></div></li><li class=nav-item><a href=https://www.moonkite.cn/category/network class=nav-link><i class="fas fa-network-wired"></i>轻解计算机网络</a></li><li class=nav-item><a href=https://www.moonkite.cn/category/product class=nav-link><i class="fas fab fa-medapps"></i>我的产品</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>使用 Hugo + GitHub Pages 搭建个人博客</h1><p class=header-date>作者：
风筝 /
2023-06-02<div class=header-underline></div><div class=header-date>&nbsp·&nbsp
  <span id=busuanzi_container_page_pv>本文被阅读<span id=busuanzi_value_page_pv></span>次</span></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://www.moonkite.cn/tag/GitHub-Pages/>GitHub Pages</a>,
<a href=https://www.moonkite.cn/tag/Hugo/>Hugo</a>,
<a href=https://www.moonkite.cn/tag/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/>个人博客</a></p></div></div></div></div></div><main><div class="container content"><article><p>我的博客地址，https://www.moonkite.cn</p><p>很多人都想创建自己的个人博客或网站，但是由于种种原因，都被劝退了。</p><p>比如没有流量没人看、服务器域名要花钱等等，如果你是因为花钱被劝退了，那现在有很多免费的方案可选，今天就介绍一种，使用 Hugo + GitHub Pages 方式免费搭建个人博客，真的是免费的。</p><p>前提是你要会操作 GitHub，不过这不是什么难事儿，由于对于技术人来说，简直是基本操作。</p><h2 id=为什么选-hugo--github-pages>为什么选 Hugo + GitHub Pages</h2><h3 id=什么是-hugo>什么是 Hugo</h3><p>Hugo 是一个快速、现代且高度可配置的静态网站生成器。它是使用 Go 语言开发的，并以简单易用、高效构建和渲染静态网页而闻名。Hugo 的设计目标是提供一个简洁、高性能的工具，以便开发人员可以轻松创建和管理各种类型的静态网站。</p><p>与之类似的还有 Hexo 。</p><p>Hugo 的主要特点包括：</p><ol><li>快速构建：Hugo 使用并行处理和基于文件变化的增量构建技术，可以在几秒钟内生成大型网站，提供出色的构建速度和性能。</li><li>灵活可配置：Hugo 提供丰富的配置选项和灵活的主题系统，允许开发人员根据自己的需求进行定制和扩展。</li><li>Markdown 支持：Hugo 使用 Markdown 作为主要的内容格式，方便作者使用简洁的语法编写内容，并将其转换为美观的静态网页。</li><li>多语言支持：Hugo 支持多语言网站，可以轻松创建多语言版本的网站，并提供多语言内容管理和翻译支持。</li><li>主题和布局：Hugo 提供了丰富的主题和布局选项，使开发人员能够快速创建具有吸引力和响应式设计的网站。</li><li>内置开发服务器：Hugo 提供了一个内置的开发服务器，可以在本地预览和调试生成的网站，方便开发和调试过程。</li></ol><p>我们不用会 Go 语言、不用会前端，只要会用 Markdown 写字就好了。</p><p>Hugo 官网：https://gohugo.io/</p><p>官网上可以找到几百种的主题，各种风格应有尽有。</p><h3 id=什么是-github-pages>什么是 GitHub Pages</h3><p>GitHub Pages 是 GitHub 提供的一项托管静态网站的服务。它允许用户将自己的代码仓库中的静态网页文件（如 HTML、CSS、JavaScript 等）直接部署为一个在线可访问的网站。</p><p>以下是 GitHub Pages 的主要特点和用途：</p><ol><li>免费托管：GitHub Pages 是免费的，用户可以将自己的静态网站免费托管在 GitHub 平台上。</li><li>简化部署流程：使用 GitHub Pages，用户只需将静态网页文件上传到 GitHub 上的特定仓库，并配置相应的设置，即可自动部署网站，无需自己搭建服务器或配置复杂的环境。</li><li>版本控制：由于网站文件存储在 GitHub 仓库中，用户可以充分利用 Git 的版本控制功能，轻松管理和追踪网站文件的变化。</li><li>自定义域名：GitHub Pages 支持自定义域名，用户可以将自己已经拥有的域名与 GitHub Pages 上的网站关联，实现个性化的访问地址。</li><li>多种发布方式：GitHub Pages 支持多种方式发布网站，包括使用现有的 Git 仓库作为源码、使用 Jekyll 静态网站生成器等。</li><li>兼容 Jekyll：GitHub Pages 默认支持 Jekyll，一个基于 Ruby 的静态网站生成器，可以帮助用户更方便地创建和维护静态网站。</li></ol><p>免费，而且可用 GitHub 仓库作为源码库生成对应的静态网站，正好可以结合 Hugo 使用。</p><h2 id=本地安装-hugo>本地安装 Hugo</h2><p>首先是安装 Go 环境，直接到 Go 官网下载安装包安装就好了。https://go.dev/learn/</p><p>接下来安装 Hugo。</p><p>MacOS 安装</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install hugo
</span></span></code></pre></div><p>Window 安装</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>choco install hugo-extended
</span></span></code></pre></div><p>还可以从源码直接安装</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>go install -tags extended github.com/gohugoio/hugo@latest
</span></span></code></pre></div><p>最后验证 Hugo 安装状态</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo version
</span></span></code></pre></div><p>有下面这种类似的输出说明安装成功了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo v0.111.3+extended darwin/amd64 <span class=nv>BuildDate</span><span class=o>=</span>unknown
</span></span></code></pre></div><h2 id=选定一个主题>选定一个主题</h2><p>Hugo 官网提供了几百种主题样式可供选择。https://themes.gohugo.io，到上面选一个你喜欢的风格。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628152523507.png alt></p><p>大多数主题还可以预览 demo</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628154659755.png alt></p><p>选定了就好了，一会儿会用到。</p><h2 id=创建本地项目>创建本地项目</h2><h3 id=创建项目主体>创建项目主体</h3><p>Hugo 是一个工具，安装完之后，需要用它提供的命令创建出博客的主要目录和文件结构。</p><p>进入你想要放置项目的目录中，然后在终端命令行中执行下面的命令，进行博客项目的创建：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo new site 替换为你的博客名称
</span></span><span class=line><span class=cl><span class=c1># 例如</span>
</span></span><span class=line><span class=cl>hugo new site fengzheng-blog
</span></span></code></pre></div><p>命令执行完成后，你会在当前目录下看到一个以你博客名称命名的文件夹，里面的目录结构大概是这样子的。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628155232577.png alt=image-20230628155232577></p><p>这样一个主体结构就出来了，但是还差一步，就是主题，主体结构好比是骨骼，主题就是一套皮肤。</p><h3 id=集成主题>集成主题</h3><p>刚才上面已经选定了你心仪的主题了，一般主题下面会有使用介绍。比如我的博客用了 hugo-theme-den 这个主题，点进主题详情后，可以看到介绍和使用方式。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628160031838.png alt></p><p>接下来，下载主题文件到你创建的项目中，下载到 <code>themes</code>目录下。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git clone https://github.com/shaform/hugo-theme-den themes/hugo-theme-den
</span></span></code></pre></div><p>下载后的目录结构：</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628160822586.png alt></p><p>有的主题说使用<code>git submodule add</code>这种添加子模块的方式添加主题，这样做的好处是将主题仓库作为子模块加到项目中，当主题有更新后，可以及时更新。</p><p>我不太喜欢用这种方式，在挑选主题的时候就是看的当下的主题样式，万一将来主题被大改后，那就不是我想要的了。而且，使用这种方式，在自动部署的时候可能会出现各种各样的问题。</p><p>所以，我还是把主题下载到我本地的项目中，想做定制，就在本地项目的主题中定制，发布的时候就和项目主体一起发布了，很方便，也很灵活可控。</p><p>主题地址：https://themes.gohugo.io/themes/hugo-theme-den/</p><h2 id=配置网站本地调试>配置网站+本地调试</h2><p>最终下载下来的主题目录是这样的</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628161827409.png alt=image-20230628161827409></p><h3 id=全局配置>全局配置</h3><p>首先将主题目录下的 <code>config.toml</code>文件复制到项目根目录下，这个配置文件就用来配置网站的全局配置了，比如host、标题、菜单、默认语言等等。</p><p>我用 hugo-theme-den 这个主题的配置做一个介绍。</p><p>以下是 Hugo 配置文件中各项设置的名称、值和说明：</p><table><thead><tr><th>名称</th><th>值</th><th>说明</th></tr></thead><tbody><tr><td>baseURL</td><td>&ldquo;<a href=https://moonkite.cn>https://moonkite.cn</a>&rdquo;</td><td>网站的基础 URL，引用的本地图片、css等，将会以这个地址作为 host</td></tr><tr><td>title</td><td>&ldquo;古时的风筝&rdquo;</td><td>网站的标题</td></tr><tr><td>theme</td><td>&ldquo;hugo-theme-den&rdquo;</td><td>网站所使用的主题</td></tr><tr><td>enableRobotsTXT</td><td>true</td><td>生成 robots.txt 文件，用于控制搜索引擎爬虫的访问</td></tr><tr><td>enableEmoji</td><td>true</td><td>启用 Emoji 表情支持</td></tr><tr><td>hasCJKLanguage</td><td>true</td><td>检测 CJK（中文、日文、韩文）语言用于字数统计等功能</td></tr><tr><td>preserveTaxonomyNames</td><td>true</td><td>不将标签名转为小写</td></tr><tr><td>rssLimit</td><td>20</td><td>限制 RSS 订阅中的条目数量</td></tr><tr><td>disablePathToLower</td><td>true</td><td>禁止将路径转为小写</td></tr><tr><td>paginate</td><td>20</td><td>每页显示的条目数量（用于归档、标签和分类）</td></tr><tr><td>paginatePath</td><td>&ldquo;page&rdquo;</td><td>分页路径的前缀</td></tr><tr><td>PygmentsCodeFences</td><td>true</td><td>启用代码块的语法高亮</td></tr><tr><td>PygmentsUseClasses</td><td>true</td><td>需要用于 shhighlight shortcode</td></tr><tr><td>disqusShortname</td><td>""</td><td>Disqus 评论系统的 shortname</td></tr><tr><td>googleAnalytics</td><td>""</td><td>Google Analytics 的跟踪 ID</td></tr><tr><td>defaultContentLanguage</td><td>&ldquo;zh-cn&rdquo;</td><td>默认使用的语言</td></tr><tr><td>defaultContentLanguageInSubdir</td><td>false</td><td>默认语言是否在子目录中</td></tr><tr><td>permalinks.posts</td><td>&ldquo;/:year/:month/:day/:slug/&rdquo;</td><td>文章的永久链接格式</td></tr><tr><td>permalinks.categories</td><td>&ldquo;/category/:slug/&rdquo;</td><td>分类的永久链接格式</td></tr><tr><td>permalinks.tags</td><td>&ldquo;/tag/:slug/&rdquo;</td><td>标签的永久链接格式</td></tr><tr><td>permalinks.pages</td><td>&ldquo;/:slug/&rdquo;</td><td>页面的永久链接格式</td></tr><tr><td>author.name</td><td>&ldquo;风筝&rdquo;</td><td>作者的名称</td></tr><tr><td>sitemap.changefreq</td><td>&ldquo;weekly&rdquo;</td><td>sitemap.xml 文件的更新频率</td></tr><tr><td>sitemap.priority</td><td>0.5</td><td>sitemap.xml 文件的优先级</td></tr><tr><td>sitemap.filename</td><td>&ldquo;sitemap.xml&rdquo;</td><td>sitemap.xml 文件的文件名</td></tr><tr><td>params.since</td><td>&ldquo;2023&rdquo;</td><td>网站创建时间</td></tr><tr><td>params.rssFullContent</td><td>true</td><td>在 RSS 订阅中使用完整内容而不是摘要</td></tr><tr><td>params.keywords</td><td>[&ldquo;Hugo&rdquo;, &ldquo;theme&rdquo;,&ldquo;编程&rdquo;,&lsquo;java&rsquo;,&lsquo;ChatGPT&rsquo;,&ldquo;程序员&rdquo;,&lsquo;开发&rsquo;]</td><td>网站的关键词</td></tr><tr><td>params.description</td><td>&ldquo;一个程序员的个人博客&rdquo;</td><td>网站的描述</td></tr><tr><td>params.logoTitle</td><td>" "</td><td>在左上角显示的 Logo 标题</td></tr><tr><td>params.siteLogoImage</td><td>""</td><td>在 Logo 标题旁边显示的 Logo 图片</td></tr><tr><td>params.headerImage</td><td>&ldquo;images/background.png&rdquo;</td><td>头部背景图片</td></tr><tr><td>params.showAuthorCard</td><td>true</td><td>是否在文章下方显示作者信息</td></tr><tr><td>params.comments</td><td>true</td><td>是否启用评论功能</td></tr><tr><td>params.showMenuLanguages</td><td>true</td><td>是否显示多</td></tr></tbody></table><h3 id=本地启动>本地启动</h3><p>先做一些基本设置之后呢（其实可以先什么都不改，先看看效果），就可以启动项目了，使用下面的命令启动</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo server
</span></span></code></pre></div><p>之后，看到下面这样的输出，说明启动成功了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>......
</span></span><span class=line><span class=cl>Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
</span></span><span class=line><span class=cl>Web Server is available at http://localhost:1313/ <span class=o>(</span><span class=nb>bind</span> address 127.0.0.1<span class=o>)</span>
</span></span><span class=line><span class=cl>Press Ctrl+C to stop
</span></span></code></pre></div><p>现在在浏览器打开 <code>http://localhost:1313</code>，就能看到效果了。当然了，刚开始肯定只有基础样式，没有内容。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628163325001.png alt=image-20230628163325001></p><p>启动之后，之后做的修改会自动热部署，不用重启应用，除非有些配置的修改。什么配置呢，就是那种你发现改了，刷新页面了，但是没起作用，很多时候就是需要重启了。</p><p><code>Ctrl+C</code>停止应用，然后<code>hugo server</code>重新启动。</p><h2 id=定制化可选>定制化（可选）</h2><p>如果你使用的是我用的这个主题，可以配置作者卡片和相关文章。</p><h3 id=配置作者卡片和相关文章>配置作者卡片和相关文章</h3><p>大部分博客主题都有这个设置，注意看选用主题的使用说明或示例配置就好了。</p><p>在每一篇文章的底部都可以出现相关文章和作者卡片，例如下面这样。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628170150807.png alt></p><h4 id=相关文章>相关文章</h4><p>在 <code>config.toml</code>配置中做如下配置，注意 toml 文件的格式。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>	<span class=nx>enableRelated</span> <span class=p>=</span> <span class=kc>true</span>
</span></span></code></pre></div><h4 id=作者卡片>作者卡片</h4><p>首先启用 <code>showAuthorCard</code>配置</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>showAuthorCard</span> <span class=p>=</span> <span class=kc>true</span> 
</span></span></code></pre></div><p>然后，在根目录的 <code>data/authors</code>子目录下（如果没有 authors目录，则需要手动创建），添加一个作者的配置，可以有多个作者，一个作者对应一个配置文件。</p><p>例如在 <code>data/authors</code>目录下创建 <code>fengzheng.toml</code>的文件，配置上内容</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://www.moonkite.cn&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>display</span> <span class=p>=</span> <span class=s2>&#34;风筝&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>image</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;images/person.jpg&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>zh-cn</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;作者描述&#34;</span>
</span></span></code></pre></div><h3 id=评论功能>评论功能</h3><p>很多主题都默认带评论功能，比如 Disqus，例如下面的配置。你需要到 Disqus 官方上申请账号，然后配置上下面的配置就好了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>disqusShortname</span> <span class=p>=</span> <span class=s2>&#34;&#34;</span>         <span class=c># disqus_shortname</span>
</span></span></code></pre></div><p>但是据说广告太多，国内用户又这么不喜欢广告，所以在国内这个评论系统基本上没人用。</p><p>与它类似的叫做<code>Giscus</code>的评论系统，没有广告，完全免费。具体可以参考官网进行集成 <a href=https://giscus.app/zh-CN>https://giscus.app/zh-CN</a>。</p><h4 id=utterance>Utterance</h4><p>我用的就是这个评论系统，集成简单，有个 GitHub 仓库就行了，它是用的仓库的 issue 功能来改造的。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628172807804.png alt></p><p>1、首先在 GitHub 中创建一个空白仓库就行</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628173250746.png alt></p><p>2、然后，点击这个地址 <a href=https://github.com/apps/utterances>https://github.com/apps/utterances</a>，进入安装页，点击Configure。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628173632124.png alt></p><p>3、选择刚才创建的仓库，然后保存</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628173835678.png alt></p><p>4、最后找到主题目录下的<code>/layouts/partials/comments.html</code>，将里面的内容替为将下面的内容</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=nx>script</span> <span class=nx>src</span><span class=o>=</span><span class=s2>&#34;https://utteranc.es/client.js&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>repo</span><span class=o>=</span><span class=s2>&#34;github账号名称/仓库名称&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>issue</span><span class=o>-</span><span class=nx>term</span><span class=o>=</span><span class=s2>&#34;pathname&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>theme</span><span class=o>=</span><span class=s2>&#34;github-light&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nx>crossorigin</span><span class=o>=</span><span class=s2>&#34;anonymous&#34;</span>
</span></span><span class=line><span class=cl>        <span class=kr>async</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=err>/script&gt;</span>
</span></span></code></pre></div><p>其中 <code>repo</code>要配置成你创建的仓库，前面是你账号名称，后面是仓库名称。</p><h2 id=菜单和对应的目录>菜单和对应的目录</h2><p>菜单也是在<code>config.toml</code>中配置，每个主题的配置可能略有不同，我用的这个主题的配置是下面这样子：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>languages</span><span class=p>.</span><span class=nx>zh-cn</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>languageCode</span> <span class=p>=</span> <span class=s2>&#34;zh-cn&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>languageName</span> <span class=p>=</span> <span class=s2>&#34;简体中文&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>contentDir</span> <span class=p>=</span> <span class=s2>&#34;content/cn&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>weight</span> <span class=p>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>languages</span><span class=p>.</span><span class=nx>zh-cn</span><span class=p>.</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;一个程序员的喃喃自语&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>languages</span><span class=p>.</span><span class=nx>zh-cn</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s1>&#39;&lt;i class=&#34;fas fad fa-h-square&#34;&gt;&lt;/i&gt;主页&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;home&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;/&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>languages</span><span class=p>.</span><span class=nx>zh-cn</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>main</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-yin-yang&#39;&gt;&lt;/i&gt;生活随笔&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;notes&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;category/notes&#34;</span>
</span></span></code></pre></div><p>一般主题都支持多语言的，<code>languages.zh-cn</code>表示中文，其对应的文章的存放目录就是<code>content/cn</code>。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629143540406.png alt></p><p><code>languages.zh-cn.menu.main</code>是中文语言下的菜单，一个菜单包括如下几个配置：</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>展示名称，可包含html</td></tr><tr><td>weight</td><td>菜单项权重，用于确定显示顺序</td></tr><tr><td>identifier</td><td>菜单项标识符</td></tr><tr><td>url</td><td>菜单项链接地址</td></tr></tbody></table><p>以上是 Hugo 菜单设置中 &ldquo;主页&rdquo; 项的属性说明。其中，<code>name</code> 表示菜单项的显示名称，<code>weight</code> 用于指定菜单项的排序权重，<code>identifier</code> 是菜单项的唯一标识符，<code>url</code> 则指定了菜单项的链接地址，除了主页指向根目录外，其他的都指向 <code>content/cn</code>的子目录。</p><p>例如，生活随笔的 url 是 <code>category/notes</code>，它的完整路径就是 <code>content/cn/category/notes</code>。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629144659128.png alt></p><p>每创建一个目录后，要在其中添加一个名称为 <code>_index.md</code>的文件，里面内容就是为了显示这个菜单进去的列表页标题，例如下图中间的<code>生活随笔</code>四个字。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: 生活随笔
</span></span><span class=line><span class=cl>--- 
</span></span></code></pre></div><p>最后出来的效果如下：</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629144753588.png alt></p><h2 id=添加文章>添加文章</h2><p>配置完菜单和对应的文章目录后，就可以添加文章了。</p><p>Hugo 中的文章都是 Markdown 格式，之后 build 的时候会将 markdown 文件按照格式转换成 HTML 。</p><p>加一篇文章，那就是创建一个 markdown 文件，文件的名称其实是不影响展示的，只为你自己辨认。真正影响展示的在 markdown 文件的内容的最上方定义。</p><p>例如我在生活随笔这个栏目下添加了一个文件，名称无所谓，不影响展示。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629150338020.png alt></p><p>内容部分，要在开头加入类似下面你的配置，生成HTML的时候需要。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: &#34;这次没躲过去，阳了&#34;
</span></span><span class=line><span class=cl>date: 2023-06-02T08:56:23+08:00
</span></span><span class=line><span class=cl>draft: false
</span></span><span class=line><span class=cl>description: 2023 年 5 月 25 日，阳了
</span></span><span class=line><span class=cl>authors:
</span></span><span class=line><span class=cl>    <span class=k>-</span> &#34;风筝&#34;
</span></span><span class=line><span class=cl>comment: true
</span></span><span class=line><span class=cl>---
</span></span></code></pre></div><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>title</td><td>文章标题，用来展示</td></tr><tr><td>date</td><td>文章发布日期，用来展示，日期越晚，展示越靠前</td></tr><tr><td>draft</td><td>是否为草稿</td></tr><tr><td>description</td><td>文章描述</td></tr><tr><td>authors</td><td>文章作者</td></tr><tr><td></td><td></td></tr></tbody></table><p>最终的效果如下：</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629151309979.png alt></p><h2 id=编译和发布>编译和发布</h2><p>使用 <code>hugo build</code>命令，会在根目录下生成 <code>build</code>目录，这个目录就是 GitHub Pages 所需的格式了。</p><p>GitHub Pages 就是读取一个特定仓库的内容，然后做展示。这个特定仓库有什么特点呢，就是仓库名称，仓库名称必须是<code>你的GitHub账号名称.github.io</code>，例如<code>alibaba.github.io</code>，<code>alibaba</code>就是账号名称，可以在 URL上看出来。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628175803886.png alt></p><p>当然了，你不能用别人的仓库，必须是你自己的。</p><p>1、在你的 GitHub 中创建仓库，注意名称一定要按照上面说的那个格式。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628180125946.png alt></p><p>2、进入刚刚 build 完成后的 <code>public</code>目录，然后初始化仓库，关联远程仓库，提交代码。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;first commit&#34;</span>
</span></span><span class=line><span class=cl>git branch -M main
</span></span><span class=line><span class=cl>git remote add origin https://github.com/username/username.github.io
</span></span><span class=line><span class=cl>git push -u origin main
</span></span></code></pre></div><p>3、如果没有意外的话，你就能看到远程仓库已经有了你提交的内容。如果有意外的话，大部分是 GitHub 提交的问题，自行解决就OK了，相信自己。</p><p>4、在浏览器输入<code>username.github.io</code>，就能看到部署的博客了。例如我的博客的默认域名是<code>https://huzhicheng.github.io</code></p><p>之后，如果有改动的话，执行 <code>hugo build</code>本地构建，然后提交代码到远程仓库。重复这个步骤就行了。</p><p>好像也还算方便。但是，还有更方便的，那就是自动发布。</p><h2 id=配置自动发布流程>配置自动发布流程</h2><p>自动发布需要再创建一个仓库，用来存放项目源文件，不是build之后的，这个仓库可以是私有的，这样一来，项目也有版本管理了，岂不妙哉。</p><p>整个发布流程大概是这样子的。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628181907880.png alt></p><p>1、首先创建一个私有仓库，作为项目源文件仓库，用于管理未经编译的代码。</p><p>创建好仓库后，按照仓库的提示，将本地的源代码目录和远程仓库关联上。</p><p>2、然后在根目录的<code>.github</code>目录下创建<code>workflows</code>的子目录，并在其中添加一个<code>deploy.yml</code>的文件。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628183201971.png alt></p><p>里面的内容如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>deploy</span><span class=w> </span><span class=c># 名字随意</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=s2>&#34;main&#34;</span><span class=w> </span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive) 获取submodule主题</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo	# 步骤名自取</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2	# hugo官方提供的action，用于在任务环境中获取hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>	</span><span class=c># 获取最新版本的hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># extended: true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify	# 使用hugo构建静态网页</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3	# 一个自动发布github pages的action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>username/username.github.io	# 发布到哪个repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>personal_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTION_ACCESS_TOKEN }}	# 发布到其他repo需要提供生成的personal access token</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public	# 因为hugo默认生成静态网页到public文件夹，所以这里发布public文件夹里的内容</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main	# 发布到GitHub Pages关联仓库的哪个branch</span><span class=w>
</span></span></span></code></pre></div><p>注意，上面的文件只需要将 <code>external_repository</code>修改成你自己的 GitHub Pages 关联仓库就好，其他都不用动。</p><p>3、创建 Personal Token</p><p>进入 GitHub，点击你自己的头像，点击 <code>Settings</code></p><p><img src=https://hexo.moonkite.cn/blog/image-20230628183602967.png alt></p><p>点击<code>Developer Settings</code></p><p><img src=https://hexo.moonkite.cn/blog/image-20230628183715571.png alt></p><p>点击创建一个 Token</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628183849384.png alt></p><p>然后设置名称、有效期和权限。名称随意，方便以后辨认。有效期可选，我为了以后不改，就设置了无限期，当然为了安全性考虑，这是不建议的。</p><p>然后勾选 <code>repo</code>和<code>admin:repo_hook</code>这两项。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628184119172.png alt></p><p>最后，会生成一个 token。一定要记录下来，后面会用到，就显示这一次，以后就看不到了。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628184359457.png alt></p><p>4、在源码仓库设置token，也就是那个第1步创建的那个仓库。</p><p>进入这个仓库的 <code>Settings</code>-><code>secrets and variables</code>-><code>Actions</code>，在这里点击<code>New repository secret</code>。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628185008522.png alt=image-20230628185008522></p><p>注意，Name 是有讲究的，是刚才第2步的 <code>deploy.yml</code>文件中设置的</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>personal_token: <span class=si>${</span><span class=p>{ secrets.ACTION_ACCESS_TOKEN </span><span class=si>}</span><span class=o>}</span>
</span></span></code></pre></div><p>就是 secrets. 后面的部分。</p><p>而 Secret 是第3步创建的 Person Token，就是说了一定要保存的那个Token。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628185105668.png alt></p><p>5、提交代码，自动发布。</p><p>之后，我们将代码提交，然后在源码仓库中的<code>Acitons</code>选项中，可以看到提交的自动部署流程。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230628185523724.png alt></p><p>并且有每一次提交的自动部署记录。</p><p>这样一来，每次修改完成，或者添加完文章，只需要提交源码仓库就好了，自动发布流程会自动打包部署，然后推送到 GitHub Pages 关联仓库，稍等片刻，刷新页面，就可看到更新后的内容了。</p><h2 id=自定义域名可选>自定义域名（可选）</h2><p>如果你不想用默认的<code>username.github.io</code>域名，那可以设置自已的域名，域名就要花钱了，不过非 <code>.com</code>后缀的域名一般都很便宜，几十块钱、甚至几块钱一年的都有，只要不是字符数太少的，那种就不要想了。</p><h3 id=购买域名>购买域名</h3><p>买域名的话，平台有很多，国内就阿里云就好了。</p><p>国外的<a href=https://www.cloudflare.com/>Cloudflare</a>、<a href=https://www.namesilo.com/>NameSilo</a>、<a href=https://www.godaddy.com/>GoDaddy</a> 都可以。</p><p>国外的买了就可以用，国内的话，还需要备案，备案需要一点时间。</p><p>我这个 <a href=www.moonkite.cn>moonkite.cn</a> 域名买了很多年了，之前一直用二级域名当图床啊、测试服务这些用，这次主域名终于派上用场了。</p><h3 id=解析域名>解析域名</h3><p>如果你是用的阿里云的话，进入域名列表页，点击域名后面的「解析」按钮。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629152040552.png alt></p><p>添加两条记录，都是 CNAME 类型的，也就是别名类的，一个域名解析到另一个域名。</p><p>主机记录选<code>www</code>和<code>@</code>，记录值就是你的 GitHub Pages 默认域名<code>username.github.io</code>，记住换成你自己的 GitHub 名字。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629152422550.png alt></p><p>最后添加完成这两个 CNAME 解析如下。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629152220506.png alt></p><p>说是等10分钟，基本上都不用那么久，片刻即可生效。</p><h3 id=配置域名>配置域名</h3><p>域名解析配置好后，要在仓库中进行设置。</p><p>打开GitHub Pages 关联仓库，也就是 username.github.io 那个，点击仓库的 <code>Settings</code>，在左侧菜单中选择<code>Pages</code>。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629152821784.png alt></p><p>然后在下方的<code>Custom domain</code>这里配置上你自己的域名，配置之后，会立即检测DNS，成功后，会有绿色的提示。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629152938770.png alt></p><p>之后，在浏览器输入你的域名，就可以访问了。</p><p>大功告成。</p><h3 id=自动更改自定义域名>自动更改自定义域名</h3><p>但是，如果你用的是自动部署方式，会发现每次提交代码后，自定义域名都被改回默认域名了。这不白干了吗，难道每次都要配置一下？</p><p>当然不用了，你只需要在项目的根目录中找到 <code>static</code>目录，在其中创建一个名称为 <code>CNAME</code>的文件，注意，没有文件后缀。在其中写入你自己的域名即可，之后每次添加文章、修改样式，再重新提交代码，自动部署后，域名就不会改为默认的了。</p><p><img src=https://hexo.moonkite.cn/blog/image-20230629153440506.png alt></p></article><div class=toc><h2>文章目录</h2><nav id=TableOfContents><ul><li><a href=#为什么选-hugo--github-pages>为什么选 Hugo + GitHub Pages</a><ul><li><a href=#什么是-hugo>什么是 Hugo</a></li><li><a href=#什么是-github-pages>什么是 GitHub Pages</a></li></ul></li><li><a href=#本地安装-hugo>本地安装 Hugo</a></li><li><a href=#选定一个主题>选定一个主题</a></li><li><a href=#创建本地项目>创建本地项目</a><ul><li><a href=#创建项目主体>创建项目主体</a></li><li><a href=#集成主题>集成主题</a></li></ul></li><li><a href=#配置网站本地调试>配置网站+本地调试</a><ul><li><a href=#全局配置>全局配置</a></li><li><a href=#本地启动>本地启动</a></li></ul></li><li><a href=#定制化可选>定制化（可选）</a><ul><li><a href=#配置作者卡片和相关文章>配置作者卡片和相关文章</a></li><li><a href=#评论功能>评论功能</a></li></ul></li><li><a href=#菜单和对应的目录>菜单和对应的目录</a></li><li><a href=#添加文章>添加文章</a></li><li><a href=#编译和发布>编译和发布</a></li><li><a href=#配置自动发布流程>配置自动发布流程</a></li><li><a href=#自定义域名可选>自定义域名（可选）</a><ul><li><a href=#购买域名>购买域名</a></li><li><a href=#解析域名>解析域名</a></li><li><a href=#配置域名>配置域名</a></li><li><a href=#自动更改自定义域名>自动更改自定义域名</a></li></ul></li></ul></nav></div><script>window.addEventListener("scroll",function(){var e=document.querySelector(".toc"),t=window.pageYOffset||document.documentElement.scrollTop,n=window.innerWidth||document.documentElement.clientWidth;t<360?e.style.top=380-t+"px":e.style.top="20px"})</script><h4>相关文章</h4><dl class=row><dd class=col-md-9><a href=/category/other/%E6%97%A0%E5%A4%B4%E6%B5%8F%E8%A7%88%E5%99%A8/>剑走偏锋，无头浏览器是什么神奇的家伙</a></dd><dd class=col-md-9><a href=/category/other/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E6%98%AF%E4%BB%80%E4%B9%88/>向量数据库是什么</a></dd><dd class=col-md-9><a href=/category/java/RPC-%E6%A6%82%E8%A7%88/>RPC框架的核心是什么？</a></dd><dd class=col-md-9><a href=/category/SpringCloud/0-Srping-Cloud-%E5%BC%80%E7%AF%87/>0. Spring Cloud 是什么</a></dd><dd class=col-md-9><a href=/category/SpringCloud/1-Spring-Cloud-Eureka-%E5%AE%9E%E7%8E%B0%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%8F%91%E7%8E%B0/>1. Spring Cloud Eureka 实现服务注册与发现</a></dd></dl><div class=author-card><div class=underline></div><div class=author-box><div class=qr-author-image><a href=/><img src=/images/person.jpg alt=风筝></a></div><div class=author-content><p class=author-title>作者</p><p class=author-name>风筝</p><p class=author-desc>古时的风筝，一个平庸的程序员，主语言 Java，第二语言 Python，其实学 Python 的时间比 Java 还要早。喜欢写博客，写博客的过程能加深自己对一个知识点的理解，同时还可以分享给他人。喜欢做一些小东西，所以也会一些前端的东西，React、JavaScript、CSS 都会一些，做一些小工具还够用。</p></div></div></div><script src=https://utteranc.es/client.js repo=huzhicheng/blog-comment issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>网站地图</div><ul class=list-unstyled><li><a href=https://www.moonkite.cn/tags/>标签</a></li><li><a href=https://www.moonkite.cn/categories/>分类</a></li><li><a rel=alternate type=application/rss+xml href=https://www.moonkite.cn/index.xml><i class="fas fa-rss-square"></i> RSS订阅</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>社群</div><ul class=list-unstyled><li><a href=https://github.com/huzhicheng rel=noopener target=_blank>GitHub</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>友链</div><ul class=list-unstyled><li><a href=https://github.com/huzhicheng rel=noopener target=_blank>关于我</a></li></ul></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em>Proudly powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo</a></em></small><br><small><em>Theme - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>Den</a></em></small><br><small>&copy;
风筝
2023</small></p></div></div><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?e417ddf834c7bb7411207e1fa09815aa",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-C714TFXRD4"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-C714TFXRD4")</script><div class=busuanzi-footer><span id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次</span>
<span id=busuanzi_container_site_uv>本站访客数<span id=busuanzi_value_site_uv></span>人次</span></div></div></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap_4.1.3_js_bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script>$(document).ready(function(){$("#load_disqus").length&&$(window).scroll(function(){if($("#load_disqus").length){var e=$("#load_disqus").offset().top,t=$(window).scrollTop(),n=t+$(window).height();t<e&&e<n&&load_disqus()}})})</script></body></html>